{% extends "base.html" %}

{% block title %}Stock Analysis{% endblock %}

{% block content %}
  <div class="container">
    <header>
      <h1>Stock Analysis</h1>
    </header>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flash-messages">
          {% for message in messages %}
            <li class="error">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <form class="ticker-form" method="post">
      <input type="text" name="ticker" placeholder="Enter Ticker (e.g., AAPL)" required>
      <button type="submit">Analyze</button>
    </form>
  </div>

  <!-- Loading Animation (hidden by default) -->
  <div id="loading">
    <div class="spinner"></div>
  </div>

  <script>
    // When the ticker form is submitted, show the loading animation
    document.querySelector('.ticker-form').addEventListener('submit', function(e) {
      document.getElementById('loading').style.display = 'flex';
    });
  </script>
{% endblock %}
